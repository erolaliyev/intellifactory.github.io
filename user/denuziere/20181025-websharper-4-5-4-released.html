<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WebSharper 4.5.4 released | IntelliFactory</title>
  <meta name="description" content="" />
  <script src="/themekit/scripts/jquery.min.js"></script>
  <script src="/themekit/scripts/main.js"></script>
  <link rel="stylesheet" href="/themekit/css/bootstrap-grid.css" />
  <link rel="stylesheet" href="/themekit/css/style.css" />
  <link rel="stylesheet" href="/themekit/css/content-box.css" />
  <link rel="stylesheet" href="/themekit/css/media-box.css" />
  <link rel="stylesheet" href="/themekit/css/social.css" />
  <link rel="stylesheet" href="/assets/skin.css" />
  <link rel="stylesheet" href="/assets/custom.css" />
  <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js" type="text/javascript" charset="UTF-8"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/languages/fsharp.min.js" type="text/javascript" charset="UTF-8"></script><link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/styles/vs.min.css"></link>

</head>
<body>
  <div id="preloader"></div>
  <nav class="menu-classic  light menu-fixed menu-one-page align-right" data-menu-anima="fade-bottom" data-scroll-detect="true">
    <div class="container">
        <div class="menu-brand">
          <a href="#">
            <img class="logo-default" src="/assets/if_logo.png" alt="logo" />
            <img class="logo-retina" src="/assets/if_logo.png" alt="logo" />
            <span>IntelliFactory</span>
          </a>
        </div>
        <i class="menu-btn"></i>
        <div class="menu-cnt">
          <ul>
            <li>
              <a href="index.html">Home</a>
            </li>
            <li class="dropdown">
              <a href="#">Open Source</a>
              <ul>
                <li><a href="https://websharper.com">WebSharper</a></li>
                <li><a href="https://fsbolero.io">Bolero</a></li>
                <li><a href="https://github.com/granicz/SiteFi">SiteFi</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#">Company</a>
              <ul>
                <li><a href="/about">About</a></li>
                <li><a href="/careers">Careers</a></li>
                <li><a href="/customers">Success stories</a></li>
                <li><a href="/team">Team</a></li>
                <li><a href="/investors">For investors</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#">Services</a>
              <ul>
                <li><a href="/consulting">Consulting</a></li>
                <li><a href="/trainings">Trainings</a></li>
                <li><a href="/education">Education</a></li>
                <li><a href="/research">Research</a></li>
              </ul>
            </li>
            <li>
              <a href="/blogs">Blogs</a>
            </li>
            <li>
              <a href="/contact">Contact</a>
            </li>
          </ul>
          <div class="menu-right">
            <div class="menu-custom-area">
              <a class="btn btn-xs btn-border btn-circle" href="https://cloudsharper.com">Download CloudSharper</a>
            </div>
          </div>
          <div class="clear"></div>
        </div>
      </div></nav>

  
    
    <header class="header-image ken-burn-center align-center light boxed-page-header" data-parallax="true" data-natural-height="600" data-natural-width="1920" data-bleed="0" data-image-src="http://via.placeholder.com/1920x700" data-offset="0">
      <div class="container">
        <h1>WebSharper 4.5.4 released</h1>
        <h2>20181025</h2>
        <ol class="breadcrumb">
          <li><a href="/index.html">Home</a></li>
          <li><a href="/blogs">Blogs</a></li>
          <li><a href=""></a></li>
        </ol>
      </div>
    </header>
    <main>
      <section class="section-base boxed-page">
        <div class="container">
          <div class="row">
            <div class="col-lg-9 text-color">
              <div><div ws-preserve=""><p>We are happy to announce the release of WebSharper 4.5.4.</p>
<p>Download the project templates for .NET Core SDK: <code>dotnet new -i WebSharper.Templates::4.5.4.278</code></p>
<p>Or use the extension for Visual Studio 2017: <a href="http://websharper.com/installers/WebSharper.4.5.4.278.vsix">http://websharper.com/installers/WebSharper.4.5.4.278.vsix</a></p>
<h2 id="cors-handling">CORS handling</h2>
<p>The main highlight of this release is the new API to handle <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">Cross-Origin Resource Sharing (CORS)</a> headers in Sitelets. This allows you to manage what requests are allowed to be performed by a browser from a different domain.</p>
<p>This API is fully integrated with inferred sitelets. It automatically handles preflight <code>OPTIONS</code> requests, and adds the necessary headers to the main response.</p>
<p>For example, here is a JSON API as you would typically define it:</p>
<pre><code class="language-fsharp">/// The endpoint type for our full website.
type EndPoint =
    | [&lt;EndPoint &quot;GET /&quot;&gt;] Home
    | [&lt;EndPoint &quot;/api&quot;&gt;] Api of ApiEndPoint

/// The endpoint type for our API subsite.
and ApiEndPoint =
    | [&lt;EndPoint &quot;GET /users&quot;&gt;] GetUsers
    | [&lt;EndPoint &quot;GET /users&quot;&gt;] GetUser of id: int
    | [&lt;EndPoint &quot;POST /users&quot;; Json &quot;data&quot;&gt;] PostUser of data: UserData
    | [&lt;EndPoint &quot;DELETE /users&quot;&gt;] DeleteUser of id: int

and UserData = // ...

/// Handle API requests.
let HandleApi (ctx: Context&lt;EndPoint&gt;) (endpoint: ApiEndPoint) =
    match endpoint with
    | GetUsers -&gt; Content.Json &quot;retrieve and return the list of users...&quot;
    | GetUser id -&gt; Content.Json &quot;retrieve and return the user...&quot;
    | PostUser data -&gt; Content.Json &quot;store the user...&quot;
    | DeleteUser id -&gt; Content.Json &quot;delete the user...&quot;

/// Handle all requests, including the main site and the API subsite.
let Website = Application.MultiPage(fun (ctx: Context&lt;EndPoint&gt;) (endpoint: EndPoint) -&gt;
    match endpoint with
    | Home -&gt; Content.Text &quot;Home page...&quot;
    | Api endpoint -&gt; HandleApi ctx endpoint
)
</code></pre>
<p>This website handles requests such as <code>GET /api/users</code> or <code>DELETE /api/users/123</code>.</p>
<p>Adding CORS support is done in two steps:</p>
<ol>
<li><p>Wrap the affected endpoint type in <code>Cors&lt;_&gt;</code>:</p>
<pre><code class="language-fsharp">type EndPoint =
    | [&lt;EndPoint &quot;GET /&quot;&gt;] Home
    | [&lt;EndPoint &quot;/api&quot;&gt;] Api of Cors&lt;ApiEndPoint&gt; // &lt;- ApiEndPoint needs CORS handling
</code></pre>
</li>
<li><p>Use <code>Content.Cors</code> to indicate the CORS headers to serve:</p>
<pre><code class="language-fsharp">let Website = Application.MultiPage(fun ctx endpoint -&gt;
    match endpoint with
    | Home -&gt; Content.Text &quot;Home page...&quot;
    | Api endpoint -&gt;
        Content.Cors endpoint
            (fun corsAllows -&gt;
                // Add the headers you need here:
                { corsAllows with
                    // Allow requests from these origins:
                    Origins = [&quot;http://example.com&quot;; &quot;https://example.com&quot;]
                    // Allow these requests to send user credentials (including cookies):
                    Credentials = true
                    // Enforce a new preflight request after 24 hours:
                    MaxAge = Some 86400 })
            (HandleApi ctx)
)
</code></pre>
</li>
</ol>
<p>And that's it! Note that we didn't need to specify the <code>Methods</code> to allow, because WebSharper is able to infer which methods need to be allowed based on the endpoint type definition. In this case, the inferred header value is <code>GET, POST, DELETE</code>.</p>
<p>Now, here is the full changelog for this release:</p>
<h2 id="websharper">WebSharper</h2>
<h3 id="breaking-changes">Breaking changes</h3>
<ul>
<li><a href="https://github.com/dotnet-websharper/core/issues/1028">#1028</a>  Simplified and unified class names in <code>WebSharper.JavaScript.Dom</code>, stripping <code>DOM</code> prefix where there was one.</li>
</ul>
<h3 id="features">Features</h3>
<ul>
<li><a href="https://github.com/dotnet-websharper/core/issues/999">#999</a>: Added <code>Content.Cors</code>, a helper for checking for Cross-Origin Resource Sharing headers.</li>
<li><a href="https://github.com/dotnet-websharper/core/issues/1025">#1025</a> Added <code>Router.FetchWith</code>and <code>Router.AjaxWith</code> that are taking a <code>RequestOptions</code> to customize the request sent to an automatically routed WebSharper endpoint.</li>
</ul>
<h3 id="fixes">Fixes</h3>
<ul>
<li><p><a href="https://github.com/dotnet-websharper/core/issues/1019">#1019</a> Show a compile-time warning when an <code>Inline</code> or <code>Direct</code> contains a <code>$variable</code> that doesn't correspond to an argument. Additionally, added a property <code>UseDollarVariables : string</code> on both <code>InlineAttribute</code> and <code>DirectAttribute</code> to indicate that a given <code>$variable</code> is not an argument typo and should not cause a warning.</p>
<p>For example, the following warns that <code>$unexpected</code> doesn't correspond to an argument, but doesn't warn about <code>$expected1</code> and <code>$expected2</code>:</p>
<pre><code class="language-fsharp">[&lt;Inline(&quot;$this.myMethod($theArg, $unexpected, $expected1, $expected2)&quot;,
         UseDollarVariables = &quot;$expected1, $expected2&quot;)&gt;]
member this.MyMethod(theArg: int) = X&lt;unit&gt;
</code></pre>
</li>
<li><p><a href="https://github.com/dotnet-websharper/core/issues/1021">#1021</a> Fixed parsing FormData when using <code>Router.Infer</code>.</p>
</li>
<li><p><a href="https://github.com/dotnet-websharper/core/issues/1077">#1027</a> Added <code>classList</code> on <code>Dom.Element</code>.</p>
</li>
<li><p><a href="https://github.com/dotnet-websharper/core/issues/1030">#1030</a> Use invariant number format for floats in routing. Fixes failing to parse decimal point character in URLs created on the client when the server system settings use another character instead of point.</p>
</li>
<li><p><a href="https://github.com/dotnet-websharper/core/issues/1031">#1031</a> Handle NoWarn+TreatWarningsAsErrors well for F# compilation.</p>
</li>
<li><p><a href="https://github.com/dotnet-websharper/core/issues/1032">#1032</a> Fix skipping pre-translating some server-side quoted event handlers. In particular, this caused issues in server-side WebSharper.UI templates where one could not use both <code>ws-onxxx</code> and <code>.OnYyy()</code> with the same template.</p>
</li>
<li><p><a href="https://github.com/dotnet-websharper/core/issues/1033">#1033</a> Fix inconsistent behavior of <code>HtmlTextWriter</code> between netfx and netstandard. Attributes written using <code>HtmlTextWriter.WriteAttribute</code>, which includes WebSharper.UI attributes, are now always automatically escaped.</p>
</li>
</ul>
<h2 id="websharper.ui">WebSharper.UI</h2>
<h3 id="enhancements">Enhancements</h3>
<ul>
<li><a href="https://github.com/dotnet-websharper/ui/issues/182">#182</a> Eliminate the last uses of jQuery: <code>parseHTML</code> in templating and <code>Doc.Verbatim</code>, and <code>on</code> in <code>Input.Keyboard</code>.</li>
<li><a href="https://github.com/dotnet-websharper/ui/issues/189">#189</a> C# templating: correctly pass along custom <code>ClientLoad</code> and <code>ServerLoad</code> from template comments and use <code>ClientLoad = Inline</code> as default.</li>
<li><a href="https://github.com/dotnet-websharper/ui/issues/190">#190</a> C# templating: fix generated code for <code>&lt;input type=&quot;number&quot;&gt;</code></li>
<li><a href="https://github.com/dotnet-websharper/ui/issues/195">#195</a>: Add <code>V</code>-enabled <code>Attr.Prop</code> overload.</li>
</ul>
<h3 id="fixes-1">Fixes</h3>
<ul>
<li><a href="https://github.com/dotnet-websharper/ui/issues/190">#190</a> C# templating: generate full namespace for <code>CheckedInput</code>.</li>
<li><a href="https://github.com/dotnet-websharper/ui/issues/194">#194</a>: Ensure <code>Router.Install</code> and <code>Router.InstallInto</code> initialize their state from the current URL.</li>
<li><a href="https://github.com/dotnet-websharper/ui/issues/198">#198</a>  Ensure <code>Elt.OnAfterRender()</code> depends on <code>OnAfterRenderControl</code> for the Sitelet runtime to include the correct <code>.js</code> link needed.</li>
<li><a href="https://github.com/dotnet-websharper/ui/issues/199">#199</a> Don't double-encode generated event attributes, causing server-defined event handlers to fail on .NET core.</li>
</ul>
<p>Happy coding!</p>
</div></div>
              <hr class="space" />
              <div class="row">
                <div class="col-lg-8">
                  <ul class="icon-list icon-list-horizontal icon-list-blog">
                    <li>
                      <i class="icon-bookmark"></i>
                      <a href="#">Finance</a>,
                      <a href="#">Software</a>
                    </li>
                  </ul>
                </div>
              </div>
              <hr class="space" />
              <div class="icon-links icon-links-button full-width icon-social social-colors">
                <a data-social="share-facebook" class="facebook"><i class="icon-facebook"></i></a>
                <a data-social="share-twitter" class="twitter"><i class="icon-twitter"></i></a>
                <a data-social="share-linkedin" class="linkedin"><i class="icon-linkedin"></i></a>
                <a data-social="share-pinterest" class="pinterest"><i class="icon-pinterest"></i></a>
              </div>
              <hr />
              <div class="cnt-box cnt-box-side box-small">
                <a href="#" class="img-box"><img src="http://via.placeholder.com/450x450" alt="" /></a>
                <div class="caption">
                  <h2>Richard Scally</h2>
                  <p>
                    Lorem ipsum dolor sitamet consectetur adipisicing elito sed do eiusmod tempore ectetur adipia.
                  </p>
                </div>
              </div>
              <hr />
              <h2>Related articles.</h2>
              <hr class="space-sm" />
              <div class="grid-list" data-columns="2" data-columns-sm="1">
                <div class="grid-box">
                  <div class="grid-item">
                    <div href="#" class="cnt-box cnt-box-top-icon boxed doc-boxed align-left">
                      <div class="caption">
                        <h2>Jessica Adams Exibition In New York With After Show</h2>
                        <div class="extra-field">Technology</div>
                        <p>
                          October 25, 2019
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="grid-item">
                    <div href="#" class="cnt-box cnt-box-top-icon boxed doc-boxed align-left">
                      <div class="caption">
                        <h2>How to change your business and make money</h2>
                        <div class="extra-field">Business</div>
                        <p>
                          October 24, 2019
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-3 widget">
              
              <div>
                <h3>Categories</h3>
                <hr class="space-xs" />
                <div class="tabs"><div>
                    <a href="/category/cors">
                      cors
                    </a>
                  </div><div>
                    <a href="/category/csharp">
                      csharp
                    </a>
                  </div><div>
                    <a href="/category/fsharp">
                      fsharp
                    </a>
                  </div><div>
                    <a href="/category/javascript">
                      javascript
                    </a>
                  </div><div>
                    <a href="/category/websharper">
                      websharper
                    </a>
                  </div></div>
                <hr class="space-sm" />
                <h3>Latest posts</h3>
                <hr class="space-sm" />
                <div class="menu-inner menu-inner-vertical menu-inner-image">
                    <ul>
                      <li>
                        <a href="/user/denuziere/20200523-bolero-0-13-released">
                          <img src="http://via.placeholder.com/400x400" alt="Bolero 0.13 released" />
                          Bolero 0.13 released
                          <span>05/23/2020</span>
                        </a>
                      </li><li>
                        <a href="/user/denuziere/20200323-bolero-0-12-released">
                          <img src="http://via.placeholder.com/400x400" alt="Bolero 0.12 released" />
                          Bolero 0.12 released
                          <span>03/23/2020</span>
                        </a>
                      </li><li>
                        <a href="/user/granicz/20200116-converting-a-websharper-html-app-to-a-client-server-one">
                          <img src="http://via.placeholder.com/400x400" alt="Converting a WebSharper HTML app to a client-server one" />
                          Converting a WebSharper HTML app to a client-server one
                          <span>01/16/2020</span>
                        </a>
                      </li><li>
                        <a href="/user/granicz/20191226-f-metablogging-introducing-blogengine-for-your-static-markdown-based-f-blog">
                          <img src="http://via.placeholder.com/400x400" alt="F# metablogging: introducing BlogEngine for your static markdown-based F# blog" />
                          F# metablogging: introducing BlogEngine for your static markdown-based F# blog
                          <span>12/26/2019</span>
                        </a>
                      </li><li>
                        <a href="/user/denuziere/20190924-bolero-0-9-released">
                          <img src="http://via.placeholder.com/400x400" alt="Bolero 0.9 released" />
                          Bolero 0.9 released
                          <span>09/24/2019</span>
                        </a>
                      </li><li>
                        <a href="/user/granicz/20190905-your-first-bolero-project-not-compiling-try-this">
                          <img src="http://via.placeholder.com/400x400" alt="Your first Bolero project not compiling? Try this!" />
                          Your first Bolero project not compiling? Try this!
                          <span>09/05/2019</span>
                        </a>
                      </li><li>
                        <a href="/user/denuziere/20190805-bolero-0-7-released">
                          <img src="http://via.placeholder.com/400x400" alt="Bolero 0.7 released" />
                          Bolero 0.7 released
                          <span>08/05/2019</span>
                        </a>
                      </li><li>
                        <a href="/user/denuziere/20190530-bolero-0-5-released-for-blazor-3-0-preview">
                          <img src="http://via.placeholder.com/400x400" alt="Bolero 0.5 released for Blazor 3.0-preview" />
                          Bolero 0.5 released for Blazor 3.0-preview
                          <span>05/30/2019</span>
                        </a>
                      </li><li>
                        <a href="/user/denuziere/20190417-bolero-0-4-released-with-remote-authentication">
                          <img src="http://via.placeholder.com/400x400" alt="Bolero 0.4 released with remote authentication" />
                          Bolero 0.4 released with remote authentication
                          <span>04/17/2019</span>
                        </a>
                      </li><li>
                        <a href="/user/jankoa/20190226-websharper-4-5-8-released-with-visual-studio-2019-support">
                          <img src="http://via.placeholder.com/400x400" alt="WebSharper 4.5.8 released with Visual Studio 2019 support" />
                          WebSharper 4.5.8 released with Visual Studio 2019 support
                          <span>02/26/2019</span>
                        </a>
                      </li>
                      
                    </ul>
                  </div>
                <hr class="space-sm" />
                <h3>Twitter</h3>
                <hr class="space-sm" />
                <div class="social-feed social-feed-tw social-slider" data-social-id="twitter" data-options="count:8,arrows:true,nav:true,controls:out,type:carousel,perView:1"></div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  
  <i class="scroll-top-btn scroll-top show"></i>
  <footer class="footer light">
    <div class="container">
      <div class="row">
        <div class="col-lg-3">
          <h4>Company and team</h4>
          <div class="menu-inner menu-inner-vertical">
            <ul>
              <li>
                <a href="#">Company details and team</a>
              </li>
              <li>
                <a href="#">News and blog</a>
              </li>
              <li>
                <a href="#">Press area</a>
              </li>
              <li>
                <a href="#">Affiliates and marketing</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-lg-3">
          <h4>Help and support</h4>
          <div class="menu-inner menu-inner-vertical">
            <ul>
              <li>
                <a href="#">Help centre</a>
              </li>
              <li>
                <a href="#">Feedbacks</a>
              </li>
              <li>
                <a href="#">Request new features</a>
              </li>
              <li>
                <a href="#">Contact us</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-lg-3">
          <h4>Learn more</h4>
          <div class="menu-inner menu-inner-vertical">
            <ul>
              <li>
                <a href="#">Apps stores</a>
              </li>
              <li>
                <a href="#">Partners</a>
              </li>
              <li>
                <a href="#">Privacy and terms</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-lg-3">
          <h4>Follow us</h4>
          <div class="icon-links icon-social icon-links-grid social-colors">
            <a class="facebook"><i class="icon-facebook"></i></a>
            <a class="twitter"><i class="icon-twitter"></i></a>
            <a class="linkedin"><i class="icon-linkedin"></i></a>
            <a class="youtube"><i class="icon-youtube"></i></a>
            <a class="instagram"><i class="icon-instagram"></i></a>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-bar">
      <div class="container">
        <span>© Codrop LTD 2019. Codrop is a powerful Landing Page App Template built with <a target="_blank" href="https://themekit.dev/code/">Themekit</a> by the <a target="_blank" href="https://schiocco.com/">Schiocco</a> Team. </span>
        <span><img src="/media/logo-light.svg" /></span>
      </div>
    </div>
    <link rel="stylesheet" href="/themekit/media/icons/iconsmind/line-icons.min.css" />
    <script src="/themekit/scripts/parallax.min.js"></script>
    <script src="/themekit/scripts/imagesloaded.min.js"></script>
    <script src="/themekit/scripts/pagination.min.js"></script>
    <script src="/themekit/scripts/social.min.js"></script>
    <script src="/themekit/scripts/tab-accordion.js"></script>
    <script src="/media/custom.js"></script>
    <script src="/js/Client.js"></script>
    <meta id='websharper-data' name='websharper-data' content='{"$TYPES":[],"$DATA":{"$V":{}}}' />
<script src="../../Scripts/WebSharper.Core.JavaScript/Runtime.js" type="text/javascript" charset="UTF-8"></script><script type="text/javascript">
if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '../../Scripts/';
  IntelliFactory.Runtime.Start();
}
</script>

    <script src="//unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
    <script src="//unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
    <script>
      $(document).ready(function () {
        var $container = $('.masonry');
        $container.imagesLoaded(function () {
          $container.masonry({
            itemSelector: '.masonry-item',
            percentPosition: true,
            horizontalOrder: true
          });
        });
      });
    </script>
  </footer>
</body>
</html>