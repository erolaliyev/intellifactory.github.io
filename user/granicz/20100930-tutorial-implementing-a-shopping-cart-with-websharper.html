<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon" />
  <title>Tutorial: Implementing a shopping cart with WebSharper | My F# blog</title>
  <meta id='websharper-data' name='websharper-data' content='{"$TYPES":[],"$DATA":{"$V":{}}}' />

  <link rel="stylesheet" href="/css/all.min.css" />
  <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js" type="text/javascript" charset="UTF-8"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/languages/fsharp.min.js" type="text/javascript" charset="UTF-8"></script><link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/styles/vs.min.css"></link>

</head>
<body>
  <header class="navbar  ">
    <div class="container">
      <div class="navbar-brand">
        <a class="navbar-item is-hoverable" onclick="Client.Bulma.ToggleDrawer()"><i class="fa fa-bars"></i></a>
        <span class="navbar-item"><a href="/">IntelliFactory</a></span>
      </div>
      <div class="navbar-menu">
        <nav class="navbar-start"><a href="/" class="navbar-item is-hoverable has-text-weight-bold">Home</a><a href="https://fsbolero.io" class="navbar-item is-hoverable has-text-weight-bold">Bolero</a><a href="https://websharper.com" class="navbar-item is-hoverable has-text-weight-bold">WebSharper</a><a href="https://cloudsharper.com" class="navbar-item is-hoverable has-text-weight-bold">CloudSharper</a><a href="/trainings" class="navbar-item is-hoverable has-text-weight-bold">Trainings</a><a href="/jobs" class="navbar-item is-hoverable has-text-weight-bold">Jobs</a><a href="/blogs" class="navbar-item is-hoverable has-text-weight-bold">Blogs</a><a href="/contact" class="navbar-item is-hoverable has-text-weight-bold">Contact</a></nav>
        
      </div>
      
    </div>
  </header>
  <div class="drawer-backdrop" onclick="Client.Bulma.ToggleDrawer()">
    <div id="left-drawer" class="lhs-drawer">
      <nav class="menu">
        <ul class="menu-list"><li>
            <a href="/">Home</a>
            
          </li><li>
            <a href="https://fsbolero.io">Bolero</a>
            
          </li><li>
            <a href="https://websharper.com">WebSharper</a>
            
          </li><li>
            <a href="https://cloudsharper.com">CloudSharper</a>
            
          </li><li>
            <a href="/trainings">Trainings</a>
            
          </li><li>
            <a href="/jobs">Jobs</a>
            
          </li><li>
            <a href="/blogs">Blogs</a>
            
          </li><li>
            <a href="/contact">Contact</a>
            
          </li></ul>
      </nav>
    </div>
  </div>
  
        <div class="container">
          <div class="columns is-gapless">
            <div class="column content markdown-column">
              <section class="hero">
                <div class="hero-body">
                  <h1 class="title">Tutorial: Implementing a shopping cart with WebSharper</h1>
                  
                </div>
              </section>
              <section class="section"><div ws-preserve=""><p>Last week I had a <a href="http://www.communityforfsharp.net/september-2010-live-meeting">Community for F#</a> talk on WebSharper where I presented a small WebSharper application to implement a client-based, persistent shopping cart, and I received numerous emails asking for the source code for that talk. So in this post I am going to show you the full source code and walk you through what I did to implement the shopping cart functionality. The code provided here should work on any existing 1.0.X installation, preferably on the latest 1.0.28 release.</p>
<p>What's so special about this implementation?</p>
<ul>
<li>First of all, it's all done with F# code with minimal markup involved to implement a site master page.</li>
<li>It demonstrates how easily you can write entire web applications in F# and integrate seamlessly with ASP.NET.</li>
<li>Despite its shortness, this shopping cart implementation can handle multiple product categories and display various products under in each category.</li>
<li>It is implemented entirely in client-side code, except for the initial call to the server to fetch the available products and families. Therefore, adding to, or removing items from the shopping cart, and calculating the total sum is handled entirely on the client, without any server-side intervention. This makes the application fast and highly interactive.</li>
<li>The application demonstrates just how easily you can enlist external JavaScript libraries in your WebSharper applications, all with F# code.</li>
</ul>
<h3 id="building-a-shopping-cart-the-parts-needed">Building a shopping cart - the parts needed</h3>
<p>There are three main parts to this WebSharper application. First, you need a design for how the page should look, second you need a WebSharper binding for the chosen client-side persistency framework, and third you need the WebSharper code for the main functionality of the shopping cart. We will discuss each of these below.
To get started, you should create a new WebSharper application in Visual Studio. If you don't have WebSharper installed, you can search for the <a href="http://visualstudiogallery.msdn.microsoft.com/en-us/288b94ea-0ea7-4dde-8906-f72eb22fbe1b">WebSharper Standard</a> plugin in the Visual Studio Gallery (in Visual Studio 2010, go to Tools / Extension Manager, and search for WebSharper in the Online Gallery), or download <a href="http://www.intellifactory.com/products/wsp/DownloadStd.aspx">WebSharper Standard from our web site</a> directly.</p>
<p>The following screenshot shows how your solution will eventually look like in the Visual Studio Solution Explorer.</p>
<img src="/assets/shopping-cart-solution.png">
<h4 id="step-1-getting-the-design-done">Step 1 - Getting the design done</h4>
<p>With WebSharper Standard, the primary way to expose your WebSharper applications is via ASP.NET. You will see shortly how easily you can accomplish this. In this first step, however, you will create a basic master page and populate the web application project in your WebSharper solution with a couple pages.</p>
<p>First, note that I am showing an out-of-project design.html file in the WebApplication project. This I used to create a basic HTML layout page that will serve as my ASP.NET master page. I then took this design and transliterated it to the following master page:</p>
<pre><code class="language-xml">&lt;%@ Master %&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;
    &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;

&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;!-- Head --&gt;
&lt;head id=&quot;Head1&quot; runat=&quot;server&quot;&gt;
    &lt;title&gt;Your site title&lt;/title&gt;
    &lt;link href=&quot;reset.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;link href=&quot;site.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;
    &lt;WebSharper:ScriptManager runat=&quot;server&quot; &gt;&lt;/WebSharper:ScriptManager&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form runat=&quot;server&quot;&gt;
    &lt;table&gt;
        &lt;tbody&gt;
            &lt;tr&gt;
                &lt;td colspan=&quot;2&quot; id=&quot;menu&quot;&gt;
                    &lt;div&gt;
                        &lt;asp:HyperLink runat=&quot;server&quot; NavigateUrl=&quot;~/Flowlet.aspx&quot;&gt;
                            Flowlet&lt;/asp:HyperLink&gt; |
                        &lt;asp:HyperLink runat=&quot;server&quot; NavigateUrl=&quot;~/ShoppingCart.aspx&quot;&gt;
                            Shopping Cart&lt;/asp:HyperLink&gt;
                    &lt;/div&gt;
                &lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td colspan=&quot;2&quot; id=&quot;banner&quot;&gt;
                    &lt;asp:ContentPlaceHolder runat=&quot;server&quot; ID=&quot;Title&quot;&gt;
                    &lt;/asp:ContentPlaceHolder&gt;
                &lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td id=&quot;main&quot;&gt;
                    &lt;asp:ContentPlaceHolder runat=&quot;server&quot; ID=&quot;Main&quot;&gt;
                    &lt;/asp:ContentPlaceHolder&gt;
                &lt;/td&gt;
                &lt;td id=&quot;side&quot;&gt;
                    &lt;asp:ContentPlaceHolder runat=&quot;server&quot; ID=&quot;Side&quot;&gt;
                    &lt;/asp:ContentPlaceHolder&gt;
                &lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
                &lt;td colspan=&quot;2&quot; id=&quot;footer&quot;&gt;
                    WebSharper™ demo by Adam Granicz, IntelliFactory.
                    Absolutely no warranty of any kind :)
                &lt;/td&gt;
            &lt;/tr&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>I won't inline reset.css and site.css here, you can find them in the attachment zip file in the bottom of this article. As you would expect, the former implements some basic &quot;reset&quot; on the HTML styles, and the latter implements the look and feel for the mini-site.</p>
<p>The master page with a default instantiation looks like the following:</p>
<img src="/assets/shopping-cart-base.png">
<p>With this new master page, you can add a couple new pages and modify the default page to have links to both. Here is Flowlet.aspx - which wraps the SignupSequence pagelet (renamed to signup.fs in WebSharperProject) from the &quot;default&quot; WebSharper project that I left for the sake of having two different pages in our mini site:</p>
<pre><code class="language-xml">&lt;%@ Page MasterPageFile=&quot;~/site.master&quot; %&gt;

&lt;asp:Content ContentPlaceHolderID=&quot;Title&quot; runat=&quot;server&quot;&gt;
    &lt;h1&gt;Flowlets Demo&lt;/h1&gt;
&lt;/asp:Content&gt;

&lt;asp:Content ContentPlaceHolderID=&quot;Main&quot; runat=&quot;server&quot;&gt;
    &lt;ws:SignupSequence runat=&quot;server&quot; &gt;&lt;/ws:SignupSequence&gt;
&lt;/asp:Content&gt;
</code></pre>
<p>Note that I did have to make a couple small changes in signup.fs from the default, namely I switched the formlet and flowlet declarations to be lazy, so I have:</p>
<pre><code class="language-fsharp">[&lt;JavaScript&gt;]
let BasicInfoForm () : Formlet&lt;BasicInfo&gt; =
    ...

[&lt;JavaScript&gt;]
let ContactInfoForm () =
    ...

[&lt;JavaScript&gt;]
let SignupSequence () =
    ...

[&lt;JavaScript&gt;]
override this.Body = ContactForms.SignupSequence ()
</code></pre>
<p>These were necessary because the code in the default project template assumes that these formlets are created eagerly - that is for every pagelet inside your WebSharper application. However, in our shopping cart application this is not true - so you need to switch those formlet/flowlet constructions to be on demand.</p>
<p>The ShoppingCart.aspx file is just as simple as Flowlet.aspx, simply filling the content holes of the master page and exposing the two WebSharper controls (ItemsToBuy and ShoppingCart) we are about to develop.</p>
<pre><code class="language-xml">&lt;%@ Page MasterPageFile=&quot;~/site.master&quot; %&gt;

&lt;asp:Content ContentPlaceHolderID=&quot;Title&quot; runat=&quot;server&quot;&gt;
    &lt;h1&gt;Your Shopping Cart&lt;/h1&gt;
&lt;/asp:Content&gt;

&lt;asp:Content ContentPlaceHolderID=&quot;Main&quot; runat=&quot;server&quot;&gt;
    &lt;ws:ItemsToBuy ID=&quot;ItemsToBuy1&quot; runat=&quot;server&quot; &gt;&lt;/ws:ItemsToBuy&gt;
&lt;/asp:Content&gt;

&lt;asp:Content ContentPlaceHolderID=&quot;Side&quot; runat=&quot;server&quot;&gt;
    &lt;ws:ShoppingCart ID=&quot;ShoppingCart1&quot; runat=&quot;server&quot; &gt;&lt;/ws:ShoppingCart&gt;
&lt;/asp:Content&gt;
</code></pre>
<h4 id="step-ii-wrapping-persist.js">Step II - Wrapping Persist.js</h4>
<p>Before we develop the shopping cart functionality, we need an API for saving to and retrieving values from a client-side persistent storage. This machinery will give us the necessary functions to operate on the shopping cart state.</p>
<p>A quick look around the web for client-side persistent storage reveals several compeling choices. For one, we could use HTML5 Web Storage - however, its implementation is lagging behind in different browsers. Another alternative, <a href="http://pablotron.org/?cid=1557">PersistJs</a> seems much more viable as it promises widespread backwards compatibility, so I decided to use that.</p>
<p>A quick look at the PersistJs samples reveals a very simple, to-the-point API. You can do three main things:</p>
<ul>
<li>Create or fetch a new store by name</li>
<li>Save some string data at a given string key in a store.</li>
<li>Retrieve asynchronously the value assigned to some key in a store.</li>
</ul>
<p>We will need to store arbitrary values in the store, so this API needs some slight adjustments as we migrate it over to WebSharper. For this, we need a way to marshal arbitrary values to strings and unmarshal them back to values of their appropriate type.</p>
<p>Below is the full implementation of the PersistJs WebSharper bindings (WebSharperProject/persistjs.fs):</p>
<pre><code class="language-fsharp">namespace IntelliFactory.WebSharper.PersistJs

open IntelliFactory.WebSharper

module internal JSON =

    [&lt;Inline &quot;JSON.parse($x)&quot;&gt;]
    let Parse&lt;'T&gt; (x: string) : 'T = Unchecked.defaultof&lt;'T&gt;

module Dependencies =
    open System
    open System.Configuration
    open IntelliFactory.WebSharper

    let internal PersistJsBase =
        let key = &quot;IntelliFactory.WebSharper.PersistJs&quot;
        match ConfigurationManager.AppSettings.[key] with
        | null -&gt;
            &quot;/js/persist-js&quot;
        | url -&gt;
            url

    [&lt;AbstractClass&gt;]
    type JsResource(fname: string) =
        interface IResource with
            member this.Render (resolver, writer) =
                let loc = sprintf &quot;%s/%s&quot; PersistJsBase fname
                Resource.RenderJavaScript loc writer

    type PersistJs() = inherit JsResource(&quot;persist-min.js&quot;)

[&lt;Require(typeof&lt;Dependencies.PersistJs&gt;)&gt;]
[&lt;JavaScriptType&gt;]
type Store =
    [&lt;Inline &quot;new Persist.Store($name)&quot;&gt;]
    static member Create (name: string) : Store =
        failwith &quot;Client-side&quot;

    [&lt;Inline &quot;$this.set($key, JSON.stringify($value))&quot;&gt;]
    member this.Save&lt;'T&gt; (key: string, value: 'T) : unit =
        failwith &quot;Client-side&quot;

    [&lt;Inline &quot;$this.get($key, $callback)&quot;&gt;]
    member private this.RetrieveP (key: string, callback: bool*string-&gt;unit) : unit =
        failwith &quot;Client-side&quot;

    [&lt;JavaScript&gt;]
    [&lt;Inline&gt;]
    member this.Retrieve&lt;'T&gt; (key: string) : Async&lt;'T option&gt; =
        Async.FromContinuations &lt;| fun (onOk, onExc, onTerm) -&gt;
            this.RetrieveP(key, fun (ok, str) -&gt;
                if ok &amp;&amp; str &lt;&gt; null then
                    onOk (Some (JSON.Parse&lt;'T&gt; str))
                else
                    onOk None)

    [&lt;JavaScript&gt;]
    [&lt;Inline&gt;]
    member this.Contains (key: string) : Async&lt;bool&gt; =
        Async.FromContinuations &lt;| fun (onOk, onExc, onTerm) -&gt;
            this.RetrieveP(key, fun (ok, str) -&gt;
                if ok &amp;&amp; str &lt;&gt; null then
                    onOk true
                else
                    onOk false)
</code></pre>
<p>In this code, the internal JSON module supplies the <code>Parse</code> member, this performs the unmarshalling needed for retrieving values from the store. Marshalling is inlined via the native <code>JSON.stringify</code> function.</p>
<p>While the above code is pretty straightforward, the <code>Dependencies</code> module deserves some mention. First, we define an abstract class that represents JavaScript resources relative to a base location. This base location defaults to the <code>/js/persist-js</code> folder on the web server, but can also be overriden via Web.Config. Finally, we define the persist-min.js (available from the PersistJs site) artifact as a JavaScript resource. Note how this resource is then annotated on the main <code>Store</code> type as a resource requirement. This causes the WebSharper script manager (that is present in our master page) to inline a reference to persist-min.js when this <code>Store</code> class is in use in the current page.</p>
<h4 id="part-3-implementing-the-shopping-cart">Part 3 - Implementing the shopping cart</h4>
<p>Now you are ready to implement the main shopping cart functionality. This has two parts- a listing of available products broken down by category, and the shopping cart that summarizes the items already in the cart.</p>
<p>Below is a mockup of these two &quot;controls&quot; and the events that can originate from both.</p>
<img src="/assets/shopping-cart-mockup-1.png">
<img src="/assets/shopping-cart-mockup-2.png">
<p>Note that both the ItemsForSale and the ShoppingCart controls can originate events, but only the latter one can react to them visually. You can implement these events in a variety of ways. In my talk I mentioned several alternatives:</p>
<ul>
<li>Implementing a simple message queue, such as a MailBox</li>
<li>Hosting ItemsToBuy and ShoppingCart in a parent pagelet and handling their communication locally in that pagelet</li>
<li>Using the upcoming <a href="http://www.intellifactory.com/docs/rxjs/index.html">RxJs</a> bindings for WebSharper, and implementing the shopping cart as an observable collection via reactive programming</li>
<li>Using simple F# events - where both controls trigger various events, and the ShoppingCart control subscribes to the shared event channel and responds visually as appropriate</li>
</ul>
<p>For this implementation I chose the last option, implementing the communication between the two pagelets using F# events. This is a strikingly simple yet effective approach that works perfectly on the client-side.</p>
<p>So without further due, let's jump into the main shopping-cart.fs module:</p>
<pre><code class="language-fsharp">namespace WebSharperProject

open System
open IntelliFactory.WebSharper
open IntelliFactory.WebSharper.Html

module ShoppingCartInternals =
    module M = Microsoft.FSharp.Collections.Map

    module Internals =

        [&lt;JavaScript&gt;]
        let internal store () = PersistJs.Store.Create &quot;shopping-cart-4&quot;

        [&lt;JavaScript&gt;]
        let NextCounter () =
            let setCounterTo i =
                (store ()).Save&lt;int&gt;(&quot;counter&quot;, i)
            async {
                let! currOpt = (store ()).Retrieve&lt;int&gt; &quot;counter&quot;
                let current =
                    match currOpt with
                    | None -&gt;
                        0
                    | Some curr -&gt;
                        curr
                let res = current+1
                setCounterTo res
                return res
            }

        [&lt;JavaScript&gt;]
        let SetItemsInCart items =
            (store ()).Save&lt;(string * (string*float*int*int)) array&gt;(&quot;cart&quot;, items)

        [&lt;JavaScript&gt;]
        let GetItemsInCart () : Async&lt;Map&lt;string, (string*float*int*int)&gt;&gt; =
            let getCart () =
                (store ()).Retrieve&lt;(string * (string*float*int*int)) array&gt; &quot;cart&quot;
            async {
                let! res = getCart ()
                let newres =
                    match res with
                    | None -&gt;
                        SetItemsInCart [||]
                        [||]
                    | Some items -&gt;
                        items
                let res =
                    newres
                    |&gt; M.ofArray
                return res
            }
</code></pre>
<p>The above code encapsulates the persistent storage-related functionality into the <code>Internals</code> module. Here, the internal <code>store</code> function creates or fetches a store by name, <code>NextCounter</code> supplies an increasing stream of numbers (implemented via storing the last &quot;ticket&quot; number in the persistent store) that you use for ordering items that are added to the cart (last added is shown last), <code>SetItemsInCart</code>, and <code>GetItemsInCart</code> store and retrieve all items in the cart, respectively (we do this as a batch operation since our PersistJs binding doesn't expose an API for enumerating all entries in a given store).</p>
<p>The events you saw earlier are modeled as a union type (<code>CartEvent</code>) and the main event channel (<code>ShoppingCartEvents</code>) is a simple F# first-class event that communicates <code>CartEvent</code> values:</p>
<pre><code class="language-fsharp">    module Events =
        type Item =
            { ProductName : string
              Title: string
              Price: float }

        type CartEvent =
            | AddItem of Item * int
            | AddOneItem of string
            | RemoveOneItem of string
            | RemoveItem of string
            | EmptyCart

        [&lt;JavaScript&gt;]
        let ShoppingCartEvents = new Event&lt;CartEvent&gt; ()
</code></pre>
<p>The only time we need to contact the server is when we fetch the available products and their categories. This is encapsulated in the Server module:</p>
<pre><code class="language-fsharp">    module Server =
        type CartFamily =
            { Title : string
              Products : CartProduct list }

        and CartProduct =
            { Title : string
              ProductName : string
              ImageSrc : string
              Price : float }

        /// Computes the families and the products inside them that are
        /// available for download.
        [&lt;Rpc&gt;]
        let ComputeFamiliesAndProducts () : CartFamily list =
            let T imageSrc (title, id, price) =
                { Title = title
                  ProductName = id
                  ImageSrc = imageSrc
                  Price = price }
            let laptop prod = T &quot;/images/laptop.png&quot; prod
            let desktop prod = T &quot;/images/desktop.png&quot; prod
            let netbook prod = T &quot;/images/netbook.png&quot; prod
            [ { Title = &quot;Laptops&quot;
                Products =
                  [ laptop (&quot;Toshiba&quot;, &quot;id1&quot;, 1299.0)
                    laptop (&quot;HP&quot;, &quot;id2&quot;, 1499.0)
                    laptop (&quot;Dell&quot;, &quot;id3&quot;, 1499.0)
                    laptop (&quot;Acer&quot;, &quot;id4&quot;, 1499.0) ] }
              { Title = &quot;Desktops&quot;
                Products =
                  [ desktop (&quot;Gamer 1&quot;, &quot;id11&quot;, 699.0)
                    desktop (&quot;Gamer 2&quot;, &quot;id12&quot;, 799.0)
                    desktop (&quot;Office&quot;, &quot;id13&quot;, 599.0)
                    desktop (&quot;Server&quot;, &quot;id14&quot;, 1299.0) ] }
              { Title = &quot;Netbooks&quot;
                Products =
                  [ netbook (&quot;Entry&quot;, &quot;id21&quot;, 799.0)
                    netbook (&quot;Medium&quot;, &quot;id22&quot;, 899.0)
                    netbook (&quot;Cool&quot;, &quot;id23&quot;, 699.0)
                    netbook (&quot;Speed-King&quot;, &quot;id24&quot;, 999.0) ] } ]
</code></pre>
<p>Here, each product has a title that we display (such as &quot;Dell&quot;), a corresponding product name we use to identify the product (such as &quot;id3&quot;), a URL that points to the image that represents the product, and a price (we assume dollars).</p>
<p>You will also need a tiny utility function to create buttons:</p>
<pre><code class="language-fsharp">    module WebControls =

        [&lt;JavaScript&gt;]
        let Button label =
            Input [Type &quot;button&quot;; Value label; Width (label.Length*15 |&gt; string)]
</code></pre>
<p>With the internal, event-, and server-relared abstractions, you can now implement the actual client-side controls. The &quot;design&quot; for these controls is taken from our initial HTML mockup (design.html), transliterated into a nested HTML combinator structure with further F# code to populate it with actual data. The Client module has the function that is called when the user checks out - I left this function empty, but this is the place where you would normally process payment, etc.</p>
<pre><code class="language-fsharp">    module Client =
        /// Sends payment.
        [&lt;JavaScript&gt;]
        let SendPayment (items: (string * (string*float*int*int)) list) =
            ()
</code></pre>
<p>The ItemsForSale control fetches all product families from the server and displays them.</p>
<pre><code class="language-fsharp">        /// Displays all item categories and their items for sale.
        [&lt;JavaScript&gt;]
        let ItemsToBuy () =
            let families = Server.ComputeFamiliesAndProducts ()
            Div [Id &quot;shopping-cart&quot;] -&lt; [
                families
                |&gt; List.map (fun family -&gt;
                    Div [Class &quot;family&quot;] -&lt; [
                        H1 [Text family.Title]
</code></pre>
<p>For each family, you list all products therein by iterating through the Products collection:</p>
<pre><code class="language-fsharp">                        family.Products
                        |&gt; List.map (fun product -&gt;
                            let input = Input [Type &quot;text&quot;; Value &quot;1&quot;]
                            Div [Class &quot;product&quot;] -&lt; [
                                Img [Alt product.Title; Src product.ImageSrc]
                                Div [
                                    H1 [Text product.Title]
                                    P [
                                        Code [Text (&quot;$&quot; + string product.Price)]
                                    ] -&lt; [
                                        Text &quot; / item&quot;
                                    ]
                                    P [
                                        Text &quot;Quantity:&quot;
                                    ] -&lt; [
                                        input
                                    ]
</code></pre>
<p>The &quot;Add to cart&quot; button triggers a CartEvent.AddItem event that carries the product data:</p>
<pre><code class="language-fsharp">                                    WebControls.Button &quot;Add to cart&quot;
                                    |&gt;! OnClick (fun e args -&gt;
                                        Events.CartEvent.AddItem (
                                            { ProductName=product.ProductName
                                              Title=product.Title
                                              Price=product.Price },
                                            (int input.Value))
                                        |&gt; Events.ShoppingCartEvents.Trigger
                                    )
                                ]
                            ]
                        )
</code></pre>
<p>Finally, you add a &quot;closer&quot; DIV to render each family nicely under one another.</p>
<pre><code class="language-fsharp">                        |&gt; fun products -&gt;
                            products @ [
                                Div [Style &quot;clear:both;&quot;]
                            ]
                            |&gt; Div
                    ]
                )
                |&gt; Div
            ]
</code></pre>
<p>The ShoppingCart control is slightly more complex as it needs to handle the various events that come through the ShoppingCartEvents channel. But first, you define a placeholder for the shopping cart (contents), and a function that updates this placeholder with the items in the cart:</p>
<pre><code class="language-fsharp">        /// Displays the shopping cart.
        [&lt;JavaScript&gt;]
        let ShoppingCart () =
            let contents = Div []
            let updateCart () =
                async {
                    let! itemsInCart = Internals.GetItemsInCart ()
                    contents.Clear ()
                    Div [Id &quot;shopping-cart-contents&quot;] -&lt; [
                        H1 [Text &quot;Shopping Cart&quot;]
</code></pre>
<p>Each item in the cart will be displays as a row in a table. Furthermore, cart items are sorted by their order. You also need to the total cost of all items in the cart, so you fold through the sorted item list, with some minor logic to alternate row styles:</p>
<pre><code class="language-fsharp">                        Table [
                            itemsInCart
                            |&gt; M.toList
                            |&gt; List.sortBy (fun (_, (_, _, _, order)) -&gt; order)
                            |&gt; List.fold (fun (i, acc, sum) (product, (t, p, q, o)) -&gt;
                                let alt =
                                    if i%2 = 1 then
                                        &quot;alt &quot;
                                    else
                                        &quot;&quot;
</code></pre>
<p>For each item, you display a set of buttons, each firing their corresponding events, and accumulate the total cost:</p>
<pre><code class="language-fsharp">                                (i+1, acc @
                                 [
                                    TR [Class alt] -&lt; [
                                        TD [Class &quot;col1&quot;] -&lt; [
                                            WebControls.Button &quot;-&quot;
                                            // What happens when we click &quot;-&quot;?
                                            |&gt;! OnClick (fun e args -&gt;
                                                product
                                                |&gt; Events.CartEvent.RemoveOneItem
                                                |&gt; Events.ShoppingCartEvents.Trigger
                                            )
                                            Div [Class &quot;count&quot;] -&lt; [q|&gt;string|&gt;Text]
                                            WebControls.Button &quot;+&quot;
                                            // What happens when we click &quot;+&quot;?
                                            |&gt;! OnClick (fun e args -&gt;
                                                product
                                                |&gt; Events.CartEvent.AddOneItem
                                                |&gt; Events.ShoppingCartEvents.Trigger
                                            )
                                            WebControls.Button &quot;X&quot;
                                            // What happens when we click &quot;Remove&quot;?
                                            |&gt;! OnClick (fun e args -&gt;
                                                product
                                                |&gt; Events.CartEvent.RemoveItem
                                                |&gt; Events.ShoppingCartEvents.Trigger
                                            )
                                            Div [Class &quot;title&quot;] -&lt; [Text t]
                                        ]
                                        TD [Class &quot;col2&quot;] -&lt; [
                                            Code [
                                                Text (string p)
                                            ]
                                        ]
                                    ]
                                 ], sum + (float q)*p)
                            ) (0, [], 0.)
</code></pre>
<p>Finally, you wrap up the items with displaying the totals:</p>
<pre><code class="language-fsharp">                            |&gt; fun (_, rows, sum) -&gt;
                                rows
                                |&gt; fun rows -&gt;
                                    rows @ [
                                        TR [ Hr [] ]
                                        TR [
                                            TD [Text &quot;Total:&quot;]
                                            TD [Code [sum |&gt; string |&gt; Text]]
                                        ]
                                    ]
                                    |&gt; TBody
                        ]
</code></pre>
<p>And last, you add the &quot;Checkout&quot; and &quot;Empty cart&quot; buttons - both clearing the cart contents.</p>
<pre><code class="language-fsharp">                        Div [Style &quot;height:20px&quot;] -&lt; []
                        Div [
                            WebControls.Button &quot;Checkout&quot;
                            |&gt;! OnClick (fun e args -&gt;
                                Window.Alert &quot;Checkout!&quot;
                                // Process payment
                                itemsInCart
                                |&gt; M.toList
                                |&gt; SendPayment
                                // Empty shopping cart
                                Events.CartEvent.EmptyCart
                                |&gt; Events.ShoppingCartEvents.Trigger
                            )
                            WebControls.Button &quot;Empty cart&quot;
                            |&gt;! OnClick (fun e args -&gt;
                                Events.CartEvent.EmptyCart
                                |&gt; Events.ShoppingCartEvents.Trigger
                            )
                        ]
                    ]
                    |&gt; contents.Append
                }
                |&gt; Async.Start
</code></pre>
<p>Handling the events that come through the event channel is done by subscribing to that event channel, matching on the various events that come in and do the right thing for each:</p>
<pre><code class="language-fsharp">            Events.ShoppingCartEvents.Publish.Add (fun ce -&gt;
                async {
                    let! itemsInCart = Internals.GetItemsInCart ()
                    let! next = Internals.NextCounter ()
                    let SET items =
                        items |&gt; M.toArray |&gt; Internals.SetItemsInCart
                    let _ =
                        match ce with
                        | Events.CartEvent.AddItem (item, qty) -&gt;
                            let qN, o =
                                if M.containsKey item.ProductName itemsInCart then
                                    let _, _, qO, o = itemsInCart.[item.ProductName]
                                    qO + qty, o
                                else
                                    qty, next
                            itemsInCart
                            |&gt; M.add item.ProductName (item.Title, item.Price, qN, o)
                            |&gt; SET
                        | Events.CartEvent.RemoveOneItem productName -&gt;
                            if M.containsKey productName itemsInCart then
                                let t, p, q, o = itemsInCart.[productName]
                                if q &lt;= 1 then
                                    itemsInCart
                                    |&gt; M.remove productName 
                                else
                                    itemsInCart
                                    |&gt; M.add productName (t, p, q-1, o)
                                |&gt; SET
                        | Events.CartEvent.AddOneItem productName -&gt;
                            if M.containsKey productName itemsInCart then
                                let t, p, q, o = itemsInCart.[productName]
                                itemsInCart
                                |&gt; M.add productName (t, p, q+1, o)
                                |&gt; SET
                        | Events.CartEvent.RemoveItem productName -&gt;
                            itemsInCart
                            |&gt; M.remove productName
                            |&gt; SET
                        | Events.CartEvent.EmptyCart -&gt;
                            M.empty
                            |&gt; SET
                    do updateCart ()
                }
                |&gt; Async.Start
            )
</code></pre>
<p>And finally, you display the cart contents and return the placeholder element:</p>
<pre><code class="language-fsharp">            updateCart ()
            contents
</code></pre>
<h3 id="conclusion">Conclusion</h3>
<p>In this tutorial, you saw how you can bind and use existing JavaScript libraries with WebSharper and implemented a client-based persistent shopping cart based on PersistJs. You used asynchronous workflows to model fetching values from the persistent store, and F# events for modeling the communication between two pagelets that made up your shopping cart application.</p>
<p><a href="http://www.intellifactory.com/downloads/blog/AbstractShoppingCart.zip">AbstractShoppingCart.zip</a></p>
</div></section>
            </div>
            <div class="column is-one-quarter-tablet is-one-fifth-desktop sidebar-column">
              <nav class="panel is-shadowless" style="padding-top: 1em;">
                <p class="panel-heading" style="border:0;background-color:white;">
                  Categories
                </p>
                <div class="tags are-medium panel-content">
                  <a class="is-inline " href="/category/fsharp" style="padding: 0.5em 0.5em 0 0;">
                      <span class="tag is-info">fsharp</span>
                    </a><a class="is-inline " href="/category/tutorial" style="padding: 0.5em 0.5em 0 0;">
                      <span class="tag is-info">tutorial</span>
                    </a><a class="is-inline " href="/category/websharper" style="padding: 0.5em 0.5em 0 0;">
                      <span class="tag is-info">websharper</span>
                    </a>
                </div>
              </nav>
              <nav class="panel is-shadowless" style="padding-top:10px;">
                <p class="panel-heading" style="border:0;">
                  All posts
                  <a style="color:red;float:right;" target="_blank" title="RSS" href="/feed.rss" class="is-hoverable"><i class="fa fa-rss-square"></i></a>
                </p>
                <a class="panel-block " href="/user/denuziere/20200523-bolero-0-13-released" style="border-bottom:0;">
                    Bolero 0.13 released
                  </a><a class="panel-block " href="/user/denuziere/20200323-bolero-0-12-released" style="border-bottom:0;">
                    Bolero 0.12 released
                  </a><a class="panel-block " href="/user/granicz/20200116-converting-a-websharper-html-app-to-a-client-server-one" style="border-bottom:0;">
                    Converting a WebSharper HTML app to a client-server one
                  </a><a class="panel-block " href="/user/granicz/20191226-f-metablogging-introducing-blogengine-for-your-static-markdown-based-f-blog" style="border-bottom:0;">
                    F# metablogging: introducing BlogEngine for your static markdown-based F# blog
                  </a><a class="panel-block " href="/user/denuziere/20190924-bolero-0-9-released" style="border-bottom:0;">
                    Bolero 0.9 released
                  </a><a class="panel-block " href="/user/granicz/20190905-your-first-bolero-project-not-compiling-try-this" style="border-bottom:0;">
                    Your first Bolero project not compiling? Try this!
                  </a><a class="panel-block " href="/user/denuziere/20190805-bolero-0-7-released" style="border-bottom:0;">
                    Bolero 0.7 released
                  </a><a class="panel-block " href="/user/denuziere/20190530-bolero-0-5-released-for-blazor-3-0-preview" style="border-bottom:0;">
                    Bolero 0.5 released for Blazor 3.0-preview
                  </a><a class="panel-block " href="/user/denuziere/20190417-bolero-0-4-released-with-remote-authentication" style="border-bottom:0;">
                    Bolero 0.4 released with remote authentication
                  </a><a class="panel-block " href="/user/jankoa/20190226-websharper-4-5-8-released-with-visual-studio-2019-support" style="border-bottom:0;">
                    WebSharper 4.5.8 released with Visual Studio 2019 support
                  </a><a class="panel-block " href="/user/jankoa/20190226-websharper-4-5-9-released-with-f-anonymous-record-support" style="border-bottom:0;">
                    WebSharper 4.5.9 released with F# anonymous record support
                  </a><a class="panel-block " href="/user/denuziere/20190213-bolero-0-3-released-with-html-template-hot-reloading" style="border-bottom:0;">
                    Bolero 0.3 released with HTML template hot reloading
                  </a><a class="panel-block " href="/user/denuziere/20190123-bolero-0-2-released-with-improved-routing" style="border-bottom:0;">
                    Bolero 0.2 released with improved routing
                  </a><a class="panel-block " href="/user/granicz/20181219-announcing-try-f-on-webassembly" style="border-bottom:0;">
                    Announcing Try F# on WebAssembly
                  </a><a class="panel-block " href="/user/denuziere/20181213-announcing-bolero-f-tools-for-webassembly" style="border-bottom:0;">
                    Announcing Bolero: F# tools for WebAssembly
                  </a><a class="panel-block " href="/user/granicz/20181210-from-enterprise-to-next-generation-web-celebrating-11-years-with-websharper" style="border-bottom:0;">
                    From enterprise to next-generation web: celebrating 11 years with WebSharper
                  </a><a class="panel-block " href="/user/denuziere/20181031-websharper-4-5-5-released" style="border-bottom:0;">
                    WebSharper 4.5.5 released
                  </a><a class="panel-block " href="/user/denuziere/20181025-websharper-4-5-4-released" style="border-bottom:0;">
                    WebSharper 4.5.4 released
                  </a><a class="panel-block " href="/user/denuziere/20180914-websharper-4-5-2-released-with-new-aspnetcore-api" style="border-bottom:0;">
                    WebSharper 4.5.2 released with new AspNetCore API
                  </a><a class="panel-block " href="/user/denuziere/20180829-websharper-react-new-and-improved" style="border-bottom:0;">
                    WebSharper.React: new and improved!
                  </a><a class="panel-block " href="/user/denuziere/20180809-websharper-4-5-released" style="border-bottom:0;">
                    WebSharper 4.5 released
                  </a><a class="panel-block " href="/user/denuziere/20180731-websharper-4-4-1-released" style="border-bottom:0;">
                    WebSharper 4.4.1 released
                  </a><a class="panel-block " href="/user/denuziere/20180711-websharper-4-4-released-with-web-workers-and-promises" style="border-bottom:0;">
                    WebSharper 4.4 released with Web Workers and Promises
                  </a><a class="panel-block " href="/user/denuziere/20180627-websharper-4-3-released-with-pure-net-core-support" style="border-bottom:0;">
                    WebSharper 4.3 released with pure .NET Core support
                  </a><a class="panel-block " href="/user/jankoa/20180615-create-javascript-libraries-from-your-c-or-f-code" style="border-bottom:0;">
                    Create JavaScript libraries from your C# or F# code
                  </a><a class="panel-block " href="/user/denuziere/20180504-websharper-4-2-10-and-ui-4-2-6-released" style="border-bottom:0;">
                    WebSharper 4.2.10 and UI 4.2.6 released
                  </a><a class="panel-block " href="/user/denuziere/20180417-websharper-4-2-9-released" style="border-bottom:0;">
                    WebSharper 4.2.9 released
                  </a><a class="panel-block " href="/user/granicz/20180409-part-2-model-view-update-mvu-style-apps-with-websharper-ui" style="border-bottom:0;">
                    Part 2. Model-View-Update (MVU) style apps with WebSharper UI
                  </a><a class="panel-block " href="/user/denuziere/20180329-websharper-ui-4-2-4-released" style="border-bottom:0;">
                    WebSharper.UI 4.2.4 released
                  </a><a class="panel-block " href="/user/granicz/20180327-first-steps-using-html-templates-accessing-form-values-and-wiring-events" style="border-bottom:0;">
                    First steps: Using HTML templates, accessing form values, and wiring events
                  </a><a class="panel-block " href="/user/denuziere/20180326-websharper-4-2-8-released-with-in-document-template-binding" style="border-bottom:0;">
                    WebSharper 4.2.8 released with in-document template binding
                  </a><a class="panel-block " href="/user/denuziere/20180321-websharper-4-for-asp-net-mvc-new-and-improved" style="border-bottom:0;">
                    WebSharper 4 for ASP.NET MVC: new and improved
                  </a><a class="panel-block " href="/user/jankoa/20180312-websharper-4-2-4-released" style="border-bottom:0;">
                    WebSharper 4.2.4 released
                  </a><a class="panel-block " href="/user/denuziere/20180228-clear-and-simple-reactive-code-with-websharper-ui-s-v" style="border-bottom:0;">
                    Clear and simple reactive code with WebSharper.UI&#39;s V
                  </a><a class="panel-block " href="/user/denuziere/20180226-websharper-4-2-released" style="border-bottom:0;">
                    WebSharper 4.2 released
                  </a><a class="panel-block " href="/user/jankoa/20180221-deploying-a-net-core-websharper-site-in-aws-lambda" style="border-bottom:0;">
                    Deploying a .NET Core WebSharper site in AWS Lambda
                  </a><a class="panel-block " href="/user/denuziere/20180220-websharper-4-1-7-and-4-2-2-beta-released" style="border-bottom:0;">
                    WebSharper 4.1.7 and 4.2.2-beta released
                  </a><a class="panel-block " href="/user/jankoa/20180212-websharper-4-2-beta-released-with-net-core-standard-support" style="border-bottom:0;">
                    WebSharper 4.2-beta released with .NET Core/Standard support
                  </a><a class="panel-block " href="/user/jankoa/20180207-websharper-4-1-2-released" style="border-bottom:0;">
                    WebSharper 4.1.2 released
                  </a><a class="panel-block " href="/user/jankoa/20180207-websharper-4-1-6-released" style="border-bottom:0;">
                    WebSharper 4.1.6 released
                  </a><a class="panel-block " href="/user/denuziere/20180117-websharper-4-1-3-released" style="border-bottom:0;">
                    WebSharper 4.1.3 released
                  </a><a class="panel-block " href="/user/denuziere/20180112-a-simple-oauth-application" style="border-bottom:0;">
                    A simple OAuth application
                  </a><a class="panel-block " href="/user/denuziere/20180109-password-less-authentication-with-websharper-oauth" style="border-bottom:0;">
                    Password-less authentication with WebSharper.OAuth
                  </a><a class="panel-block " href="/user/jankoa/20180109-websharper-4-1-1-released" style="border-bottom:0;">
                    WebSharper 4.1.1 released
                  </a><a class="panel-block " href="/user/granicz/20171229-serving-spas" style="border-bottom:0;">
                    Serving SPAs
                  </a><a class="panel-block " href="/user/jankoa/20171225-websharper-4-1-released" style="border-bottom:0;">
                    WebSharper 4.1 released
                  </a><a class="panel-block " href="/user/jankoa/20170908-announcing-websharper-4-release-candidate" style="border-bottom:0;">
                    Announcing WebSharper 4 Release Candidate
                  </a><a class="panel-block " href="/user/jankoa/20170828-websharper-4-beta-10-released" style="border-bottom:0;">
                    WebSharper 4 beta-10 released
                  </a><a class="panel-block " href="/user/jankoa/20170726-websharper-4-beta-9-released" style="border-bottom:0;">
                    WebSharper 4 beta-9 released
                  </a><a class="panel-block " href="/user/jankoa/20170609-websharper-4-beta-7-released" style="border-bottom:0;">
                    WebSharper 4 beta-7 released
                  </a><a class="panel-block " href="/user/jankoa/20170412-websharper-4-beta-6-bugfix-released" style="border-bottom:0;">
                    WebSharper 4 beta-6 bugfix released
                  </a><a class="panel-block " href="/user/jankoa/20170325-websharper-4-beta-6-released" style="border-bottom:0;">
                    WebSharper 4 beta-6 released
                  </a><a class="panel-block " href="/user/granicz/20161231-simple-reactive-scenarios-with-websharper" style="border-bottom:0;">
                    Simple reactive scenarios with WebSharper
                  </a><a class="panel-block " href="/user/jankoa/20161207-distributed-web-applications-in-f-with-websharper" style="border-bottom:0;">
                    Distributed web applications in F# with WebSharper
                  </a><a class="panel-block " href="/user/jankoa/20161207-the-road-to-websharper-4" style="border-bottom:0;">
                    The road to WebSharper 4
                  </a><a class="panel-block " href="/user/granicz/20160406-a-faster-and-slicker-try-websharper" style="border-bottom:0;">
                    A faster and slicker Try WebSharper
                  </a><a class="panel-block " href="/user/denuziere/20160113-websharper-3-6-7-released" style="border-bottom:0;">
                    WebSharper 3.6.7 released
                  </a><a class="panel-block " href="/user/granicz/20151226-websharper-a-year-in-review" style="border-bottom:0;">
                    WebSharper - a year in review
                  </a><a class="panel-block " href="/user/denuziere/20151215-websharper-3-6-6-released" style="border-bottom:0;">
                    WebSharper 3.6.6 released
                  </a><a class="panel-block " href="/user/denuziere/20151123-websharper-3-6-released-with-cdn-support" style="border-bottom:0;">
                    WebSharper 3.6 released with CDN support
                  </a><a class="panel-block " href="/user/denuziere/20151112-websharper-3-5-16-released" style="border-bottom:0;">
                    WebSharper 3.5.16 released
                  </a><a class="panel-block " href="/user/granicz/20151104-data-aware-workbooks-and-client-side-data-access-with-websharper-data" style="border-bottom:0;">
                    Data-aware workbooks and client-side data access with WebSharper.Data
                  </a><a class="panel-block " href="/user/jankoa/20151030-websharper-3-5-14-released" style="border-bottom:0;">
                    WebSharper 3.5.14 released
                  </a><a class="panel-block " href="/user/denuziere/20151028-websharper-3-5-13-released" style="border-bottom:0;">
                    WebSharper 3.5.13 released
                  </a><a class="panel-block " href="/user/denuziere/20151021-websharper-3-5-9-released" style="border-bottom:0;">
                    WebSharper 3.5.9 released
                  </a><a class="panel-block " href="/user/granicz/20151007-announcing-websharper-3-5-with-pluggable-html-support" style="border-bottom:0;">
                    Announcing WebSharper 3.5 with pluggable HTML support
                  </a><a class="panel-block " href="/user/gansperger/20151006-try-websharper-version-info-about-extensions-and-some-embedding-improvements" style="border-bottom:0;">
                    Try Websharper: version info about extensions and some embedding improvements
                  </a><a class="panel-block " href="/user/denuziere/20151001-announcing-websharper-suave" style="border-bottom:0;">
                    Announcing WebSharper.Suave
                  </a><a class="panel-block " href="/user/denuziere/20150924-websharper-3-4-19-released" style="border-bottom:0;">
                    WebSharper 3.4.19 released
                  </a><a class="panel-block " href="/user/gansperger/20150918-try-websharper-on-hover-type-info" style="border-bottom:0;">
                    Try WebSharper: on-hover type info
                  </a><a class="panel-block " href="/user/denuziere/20150908-websharper-ui-next-3-4-19-with-onafterrender" style="border-bottom:0;">
                    WebSharper.UI.Next 3.4.19 with OnAfterRender
                  </a><a class="panel-block " href="/user/denuziere/20150902-websharper-3-4-14-released" style="border-bottom:0;">
                    WebSharper 3.4.14 released
                  </a><a class="panel-block " href="/user/granicz/20150901-live-f-coding-and-snippets-with-dependencies-in-try-websharper" style="border-bottom:0;">
                    Live F# coding and snippets with dependencies in Try WebSharper
                  </a><a class="panel-block " href="/user/gansperger/20150826-try-websharper-update-notes-for-snippets" style="border-bottom:0;">
                    Try WebSharper: update notes for snippets
                  </a><a class="panel-block " href="/user/granicz/20150819-try-websharper-snippet-versioning-gist-import-and-other-enhancements-now-available" style="border-bottom:0;">
                    Try WebSharper: snippet versioning, gist import, and other enhancements now available
                  </a><a class="panel-block " href="/user/granicz/20150809-share-and-embed-try-websharper-snippets" style="border-bottom:0;">
                    Share and embed Try WebSharper snippets
                  </a><a class="panel-block " href="/user/granicz/20150806-new-websharper-templates" style="border-bottom:0;">
                    New WebSharper templates
                  </a><a class="panel-block " href="/user/granicz/20150804-introducing-try-websharper" style="border-bottom:0;">
                    Introducing Try WebSharper
                  </a><a class="panel-block " href="/user/denuziere/20150803-websharper-3-4-released" style="border-bottom:0;">
                    WebSharper 3.4 released
                  </a><a class="panel-block " href="/user/denuziere/20150803-websharper-ui-next-3-4-the-new-html-syntax" style="border-bottom:0;">
                    WebSharper UI.Next 3.4: the new HTML syntax
                  </a><a class="panel-block " href="/user/denuziere/20150722-websharper-3-3-released-with-client-side-json-serialization" style="border-bottom:0;">
                    WebSharper 3.3 released with client-side JSON serialization
                  </a><a class="panel-block " href="/user/denuziere/20150714-websharper-3-2-22-released" style="border-bottom:0;">
                    WebSharper 3.2.22 released
                  </a><a class="panel-block " href="/user/jankoa/20150625-websharper-3-2-10-released" style="border-bottom:0;">
                    WebSharper 3.2.10 released
                  </a><a class="panel-block " href="/user/granicz/20150615-introducing-websharper-warp" style="border-bottom:0;">
                    Introducing WebSharper Warp
                  </a><a class="panel-block " href="/user/granicz/20150609-websharper-3-2-with-support-for-scriptable-applications-better-resource-management-and-additional-streamlined-syntax" style="border-bottom:0;">
                    WebSharper 3.2 with support for scriptable applications, better resource management, and additional streamlined syntax
                  </a><a class="panel-block " href="/user/denuziere/20150523-websharper-3-1-published" style="border-bottom:0;">
                    WebSharper 3.1 published
                  </a><a class="panel-block " href="/user/denuziere/20150521-cloudsharper-0-9-31-published" style="border-bottom:0;">
                    CloudSharper 0.9.31 published
                  </a><a class="panel-block " href="/user/granicz/20150515-deploying-websharper-apps-to-azure-via-github" style="border-bottom:0;">
                    Deploying WebSharper apps to Azure via GitHub
                  </a><a class="panel-block " href="/user/denuziere/20150512-websharper-from-zero-to-an-azure-deployed-web-application" style="border-bottom:0;">
                    WebSharper: From Zero to an Azure-deployed Web Application
                  </a><a class="panel-block " href="/user/denuziere/20150506-websharper-3-0-59-released" style="border-bottom:0;">
                    WebSharper 3.0.59 released
                  </a><a class="panel-block " href="/user/granicz/20150428-websharper-site-enhancements" style="border-bottom:0;">
                    WebSharper site enhancements
                  </a><a class="panel-block " href="/user/granicz/20150417-cloudsharper-0-9-30-with-websharper-3-templates" style="border-bottom:0;">
                    CloudSharper 0.9.30 with WebSharper 3 templates
                  </a><a class="panel-block " href="/user/jankoa/20150416-websharper-3-0-released" style="border-bottom:0;">
                    WebSharper 3.0 released
                  </a><a class="panel-block " href="/user/granicz/20150328-websharper-forum-enhancements" style="border-bottom:0;">
                    WebSharper forum enhancements
                  </a><a class="panel-block " href="/user/denuziere/20150318-websharper-3-0-rc-released" style="border-bottom:0;">
                    WebSharper 3.0 RC released
                  </a><a class="panel-block " href="/user/denuziere/20150302-cloudsharper-0-9-29-released" style="border-bottom:0;">
                    CloudSharper 0.9.29 released
                  </a><a class="panel-block " href="/user/denuziere/20150225-websharper-3-0-alpha-for-xamarin-studio-monodevelop-is-now-available" style="border-bottom:0;">
                    WebSharper 3.0-alpha for Xamarin Studio / MonoDevelop is now available!
                  </a><a class="panel-block " href="/user/jankoa/20150225-websharper-3-0-36-alpha-released" style="border-bottom:0;">
                    WebSharper-3.0.36-alpha released
                  </a><a class="panel-block " href="/user/denuziere/20150213-upcoming-in-websharper-3-0-serving-rest-apis-easy-as-pie" style="border-bottom:0;">
                    Upcoming in WebSharper 3.0: serving REST APIs, easy as pie!
                  </a><a class="panel-block " href="/user/jankoa/20150210-websharper-3-0-26-alpha-released" style="border-bottom:0;">
                    WebSharper.3.0.26-alpha released
                  </a><a class="panel-block " href="/user/granicz/20141203-websharper-3-alpha-now-under-apache-2" style="border-bottom:0;">
                    WebSharper 3 alpha now under Apache 2
                  </a><a class="panel-block " href="/user/granicz/20141113-self-hosted-websharper-application-template-available" style="border-bottom:0;">
                    Self-hosted WebSharper application template available
                  </a><a class="panel-block " href="/user/granicz/20140701-upcoming-cloudsharper-features-in-q3" style="border-bottom:0;">
                    Upcoming CloudSharper features in Q3
                  </a><a class="panel-block " href="/user/granicz/20140515-program-f-with-cloudsharper-everywhere" style="border-bottom:0;">
                    Program F# with CloudSharper everywhere
                  </a><a class="panel-block " href="/user/granicz/20140325-cloudsharper-0-9-9" style="border-bottom:0;">
                    CloudSharper 0.9.9
                  </a><a class="panel-block " href="/user/granicz/20140314-cloudsharper-local-alpha-0-9-8" style="border-bottom:0;">
                    CloudSharper Local alpha 0.9.8
                  </a><a class="panel-block " href="/user/granicz/20140306-cloudsharper-local-alpha-0-9-7" style="border-bottom:0;">
                    CloudSharper Local alpha 0.9.7
                  </a><a class="panel-block " href="/user/granicz/20140218-update-server-exited-with-code-0" style="border-bottom:0;">
                    Update: Server exited with code 0
                  </a><a class="panel-block " href="/user/granicz/20140217-update-showing-compiler-errors" style="border-bottom:0;">
                    Update: Showing compiler errors
                  </a><a class="panel-block " href="/user/granicz/20140213-cloudsharper-local-alpha-available" style="border-bottom:0;">
                    CloudSharper Local alpha available
                  </a><a class="panel-block " href="/user/granicz/20140206-websharper-2-5-93-improved-numeric-performance" style="border-bottom:0;">
                    WebSharper 2.5.93 - improved numeric performance
                  </a><a class="panel-block " href="/user/granicz/20131221-websharper-2-5-release-notes" style="border-bottom:0;">
                    WebSharper 2.5 Release Notes
                  </a><a class="panel-block " href="/user/granicz/20130322-websharper-from-f-power-features-to-javascript-interop" style="border-bottom:0;">
                    WebSharper: From F# power features to JavaScript interop
                  </a><a class="panel-block " href="/user/granicz/20130310-cufp-2013-call-for-presentations" style="border-bottom:0;">
                    CUFP 2013 - Call for Presentations
                  </a><a class="panel-block " href="/user/granicz/20130226-free-websharper-mvp-licenses" style="border-bottom:0;">
                    Free WebSharper MVP licenses
                  </a><a class="panel-block " href="/user/granicz/20121230-replacing-a-dead-raid5-drive-on-an-hp-microserver-running-ubuntu" style="border-bottom:0;">
                    Replacing a dead RAID5 drive on an HP Microserver running Ubuntu
                  </a><a class="panel-block " href="/user/granicz/20121230-running-the-jquery-mobile-websharper-sample" style="border-bottom:0;">
                    Running the jQuery Mobile WebSharper sample
                  </a><a class="panel-block " href="/user/granicz/20121203-last-day-to-register-to-tech-mesh-2012" style="border-bottom:0;">
                    Last day to register to Tech Mesh 2012
                  </a><a class="panel-block " href="/user/granicz/20120602-cufp-2012-call-for-presentations" style="border-bottom:0;">
                    CUFP 2012 - Call for Presentations
                  </a><a class="panel-block " href="/user/granicz/20120525-looking-for-technical-reviewers-for-expert-f-3-0" style="border-bottom:0;">
                    Looking for technical reviewers for Expert F# 3.0
                  </a><a class="panel-block " href="/user/granicz/20120426-websharper-2-4-q2-available" style="border-bottom:0;">
                    WebSharper 2.4 Q2 available
                  </a><a class="panel-block " href="/user/granicz/20120416-websharper-2-4-q2-beta-out" style="border-bottom:0;">
                    WebSharper 2.4 Q2 Beta out
                  </a><a class="panel-block " href="/user/granicz/20110924-websharper-2-3-q3-released" style="border-bottom:0;">
                    WebSharper 2.3 Q3 released
                  </a><a class="panel-block " href="/user/granicz/20110915-websharper-at-cufp-2011" style="border-bottom:0;">
                    WebSharper at CUFP 2011
                  </a><a class="panel-block " href="/user/granicz/20110715-websharper-2-3-targeting-enterprise-applications" style="border-bottom:0;">
                    WebSharper 2.3 - targeting enterprise applications
                  </a><a class="panel-block " href="/user/granicz/20110513-expiring-websharper-professional-trials" style="border-bottom:0;">
                    Expiring WebSharper Professional trials
                  </a><a class="panel-block " href="/user/granicz/20110506-announcing-websharper-professional-2-2" style="border-bottom:0;">
                    Announcing WebSharper Professional 2.2
                  </a><a class="panel-block " href="/user/granicz/20110422-announcing-apistack-net" style="border-bottom:0;">
                    Announcing ApiStack.net
                  </a><a class="panel-block " href="/user/granicz/20110404-websharper-rc2-extension-updates" style="border-bottom:0;">
                    WebSharper RC2 Extension updates
                  </a><a class="panel-block " href="/user/granicz/20110326-websharper-2-1-professional-rc2-released" style="border-bottom:0;">
                    WebSharper 2.1 Professional RC2 released
                  </a><a class="panel-block " href="/user/granicz/20110310-formlets-for-jquery-ui-available" style="border-bottom:0;">
                    Formlets for jQuery UI available
                  </a><a class="panel-block " href="/user/granicz/20110304-websharper-2-professional-rc1" style="border-bottom:0;">
                    WebSharper 2 Professional RC1
                  </a><a class="panel-block " href="/user/granicz/20110224-more-websharper-talks-in-february" style="border-bottom:0;">
                    More WebSharper talks in February
                  </a><a class="panel-block " href="/user/granicz/20110222-sencha-touch-for-websharper-available" style="border-bottom:0;">
                    Sencha Touch for WebSharper available
                  </a><a class="panel-block " href="/user/granicz/20110205-new-websharper-extensions-available" style="border-bottom:0;">
                    New WebSharper extensions available
                  </a><a class="panel-block " href="/user/granicz/20110203-websharper-2-1-beta-5-available" style="border-bottom:0;">
                    WebSharper 2.1 Beta 5 available
                  </a><a class="panel-block " href="/user/granicz/20110125-websharper-proposal-for-mix-2011" style="border-bottom:0;">
                    WebSharper proposal for MIX 2011
                  </a><a class="panel-block " href="/user/granicz/20110105-websharper-beta-4-released" style="border-bottom:0;">
                    WebSharper Beta 4 released
                  </a><a class="panel-block " href="/user/granicz/20101221-talk-introducing-websharper-sitelets" style="border-bottom:0;">
                    Talk: Introducing WebSharper Sitelets
                  </a><a class="panel-block " href="/user/granicz/20101220-visual-studio-book-with-f-chapter" style="border-bottom:0;">
                    Visual Studio book with F# chapter
                  </a><a class="panel-block " href="/user/granicz/20101217-websharper-2-0-beta-bundle" style="border-bottom:0;">
                    WebSharper 2.0 Beta Bundle
                  </a><a class="panel-block " href="/user/granicz/20101215-websharper-2-0-beta2-released" style="border-bottom:0;">
                    WebSharper 2.0 Beta2 released
                  </a><a class="panel-block " href="/user/granicz/20101126-introducing-websharper-2-0-at-lwsug" style="border-bottom:0;">
                    Introducing WebSharper 2.0 at LWSUG
                  </a><a class="panel-block " href="/user/granicz/20101126-websharper-2-0-beta-available" style="border-bottom:0;">
                    WebSharper 2.0 Beta available
                  </a><a class="panel-block " href="/user/granicz/20101115-websharper-talk-at-sinergija-2010" style="border-bottom:0;">
                    WebSharper talk at Sinergija 2010
                  </a><a class="panel-block " href="/user/granicz/20101103-announcing-the-london-websharper-user-group" style="border-bottom:0;">
                    Announcing the London WebSharper User Group
                  </a><a class="panel-block " href="/user/granicz/20101006-f-mvp-award-2010" style="border-bottom:0;">
                    F# MVP Award - 2010
                  </a><a class="panel-block is-active" href="/user/granicz/20100930-tutorial-implementing-a-shopping-cart-with-websharper" style="border-bottom:0;">
                    Tutorial: Implementing a shopping cart with WebSharper
                  </a><a class="panel-block " href="/user/granicz/20100909-cufp-2010-call-for-participation" style="border-bottom:0;">
                    CUFP 2010 - Call for Participation
                  </a><a class="panel-block " href="/user/granicz/20100806-websharper-available-in-visual-studio-gallery" style="border-bottom:0;">
                    WebSharper available in Visual Studio Gallery
                  </a><a class="panel-block " href="/user/granicz/20100805-expert-f-2-0-what-s-new" style="border-bottom:0;">
                    Expert F# 2.0 - what&#39;s new?
                  </a><a class="panel-block " href="/user/granicz/20100625-ml-2010-workshop-final-call-for-presentations" style="border-bottom:0;">
                    ML 2010 Workshop - Final Call for Presentations
                  </a><a class="panel-block " href="/user/granicz/20100608-f-training-courses-in-ca-announced" style="border-bottom:0;">
                    F# Training Courses in CA Announced
                  </a><a class="panel-block " href="/user/granicz/20100522-websharper-2010-standard-is-available" style="border-bottom:0;">
                    WebSharper 2010 Standard is available
                  </a><a class="panel-block " href="/user/granicz/20100308-f-development-and-sales-jobs-in-london-california-and-budapest" style="border-bottom:0;">
                    F# Development and Sales Jobs in London, California, and Budapest
                  </a><a class="panel-block " href="/user/granicz/20100305-call-for-presentations-cufp-2010" style="border-bottom:0;">
                    Call for Presentations - CUFP 2010
                  </a><a class="panel-block " href="/user/granicz/20100305-call-for-presentations-ml-2010" style="border-bottom:0;">
                    Call for Presentations - ML 2010
                  </a><a class="panel-block " href="/user/granicz/20100210-websharper-2010-standard-coming-soon" style="border-bottom:0;">
                    WebSharper 2010 Standard coming soon
                  </a><a class="panel-block " href="/user/granicz/20091223-websharper-0-4-62-is-available-with-dependent-formlets-flowlets-third-party-extensions-and-more" style="border-bottom:0;">
                    WebSharper 0.4.62 is available - with dependent formlets-flowlets-third-party extensions-and more!
                  </a><a class="panel-block " href="/user/granicz/20090710-rapid-prototyping-of-dsls-in-f-part-iii" style="border-bottom:0;">
                    Rapid prototyping of DSLs in F# - Part III
                  </a><a class="panel-block " href="/user/granicz/20090622-rapid-prototyping-of-dsls-in-f-part-ii" style="border-bottom:0;">
                    Rapid prototyping of DSLs in F# - Part II
                  </a><a class="panel-block " href="/user/granicz/20090523-parsing-with-active-patterns" style="border-bottom:0;">
                    Parsing with active patterns
                  </a><a class="panel-block " href="/user/granicz/20090522-f-may-2009-ctp-and-vs-2010-beta1" style="border-bottom:0;">
                    F# May 2009 CTP and VS 2010 Beta1
                  </a><a class="panel-block " href="/user/granicz/20090520-fp-bud-may-meetup" style="border-bottom:0;">
                    FP-BUD May Meetup
                  </a><a class="panel-block " href="/user/granicz/20090520-welcome-to-the-intellifactory-corporate-blogs" style="border-bottom:0;">
                    Welcome to the IntelliFactory corporate blogs!
                  </a><a class="panel-block " href="/user/granicz/20061124-a-logo-interpreter-under-400-lines" style="border-bottom:0;">
                    A Logo interpreter under 400 lines
                  </a>
              </nav>
            </div>
          </div>
        </div>
      
  <footer class="footer">
    <div class="content has-text-centered">
      <p>
        <a href="https://github.com/granicz/SiteFi">
          <strong>SiteFi</strong>
        </a> by <a href="https://twitter.com/granicz">Adam Granicz</a>.
        A static site generator implemented with WebSharper in F#, licensed
        <a href="http://opensource.org/licenses/mit-license.php">MIT</a>.
      </p>
      <p>
        <a style="color:red;float:right;" target="_blank" title="RSS" href="/feed.rss" class="is-hoverable">
          <span class="icon is-large">
            <i class="fa fa-rss-square fa-2x"></i>
          </span>
        </a>
      </p>
    </div>
  </footer>
  <script src="/js/Client.js"></script>
  <script src="../../Scripts/WebSharper.Core.JavaScript/Runtime.js" type="text/javascript" charset="UTF-8"></script><script type="text/javascript">
if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '../../Scripts/';
  IntelliFactory.Runtime.Start();
}
</script>

</body>
</html>